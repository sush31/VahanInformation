<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
	<!--<h:head>-->
	<meta name="viewport"
		content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
</h:head>
<h:body>
	<h:form>

		<p:selectOneMenu id="state" value="#{loginBean.selectedState}">
			<f:selectItem itemLabel="Select state" itemValue="" />
			<f:selectItems value="#{loginBean.state_list}" var="item"
				itemLabel="#{item.label}" itemValue="#{item.value}" />
				<p:ajax event="change" execute="@this" render="servicedropdown" update="servicedropdown" listener="#{loginBean.getServicesList}" /> 
        </p:selectOneMenu>
        <br/><br/>
		<p:selectOneMenu id="servicedropdown" value="#{loginBean.selectedService}">
			<f:selectItem itemLabel="Select Service" itemValue="" />
			<f:selectItems value="#{loginBean.service_list}" var="service"
				itemLabel="#{service.label}" itemValue="#{service.value}" />
<!-- 		 <p:ajax event="change" execute="@this"  render="dynamicservicetable" update="dynamicservicetable" listener="#{loginBean.redirectToSelectedService}" />  -->
		</p:selectOneMenu>
		 <br/><br/>

		<p:commandButton value="showResult" action="#{loginBean.redirectToSelectedService}" update="dynamicservicetable citizenflowtable rtoflowtable" /> 	
		
		<br/><br/>
		 <p:dataTable style="#{loginBean.tableShowPermit and loginBean.tableShow ? 'display:table;' : 'display:none;'}"  value="#{loginBean.permitdobj}" var="permitdobj" id="dynamicservicetable">
            <f:facet name="header">
            <p:outputLabel value="Configuration Details of #{loginBean.purposeDescr} of #{loginBean.selectedState}"/>
            </f:facet>
           
                    <p:column headerText="Service Related to RTO">
								<p:outputLabel value="#{permitdobj.serviceRto}" />
							</p:column>
							<p:column headerText="Service Related to Citizen">
								<p:outputLabel value="#{permitdobj.serviceCitizen}" />
							</p:column>
							<p:column headerText="Aadhar authentication">
								<p:outputLabel value="#{permitdobj.aadharAuthentication}" />
							</p:column>
							<p:column headerText="Document Upload">
								<p:outputLabel value="#{permitdobj.uploadDocument}" />
							</p:column>
							<p:column headerText="Mobile Authentication">
								<p:outputLabel value="#{permitdobj.via_registered_mobile}" />
							</p:column>
							<p:column headerText="Citizen Fee Exempt">
							<p:outputLabel value="#{permitdobj.citizenFeeExempt}" />
							</p:column>

               </p:dataTable>
               
                             <br/><br/><br/>
               <p:dataTable style="#{loginBean.tableShowPermit and loginBean.tableShow? 'display:table;' : 'display:none;'}"  value="#{loginBean.flowCitizen}" var="flowcitizen" id="citizenflowtable">
            <f:facet name="header">
            <p:outputLabel value="Citizen Side flow of #{loginBean.purposeDescr} of #{loginBean.selectedState}"/>
            </f:facet>
             <p:column headerText="flow_serial_no">
								<p:outputLabel value="#{flowcitizen.flow_srno}" />
							</p:column>
							<p:column headerText="Action Code">
								<p:outputLabel value="#{flowcitizen.action_cd}" />
							</p:column>
							<p:column headerText="Action Description">
								<p:outputLabel value="#{flowcitizen.action_descr}" />
							</p:column>
							<p:column headerText="Is Backward">
								<p:outputLabel value="#{flowcitizen.backward}" />
							</p:column>
							<p:column headerText="Conditon Formula Description">
								<p:outputLabel value="#{flowcitizen.condition_formula}" />
							</p:column>
							<p:column headerText="Move to Vahan4">
							<p:outputLabel value="#{flowcitizen.move_to_vahan4}" />
							</p:column>

               </p:dataTable>
               
               <br/><br/><br/>
               <p:dataTable style="#{loginBean.tableShowPermit and loginBean.tableShow ? 'display:table;' : 'display:none;'}"  value="#{loginBean.flowRto}" var="flowrto" id="rtoflowtable">
            <f:facet name="header">
            <p:outputLabel value="RTO Side flow of #{loginBean.purposeDescr} of #{loginBean.selectedState}"/>
            </f:facet>
             <p:column headerText="flow_serial_no">
								<p:outputLabel value="#{flowrto.flow_srno}" />
							</p:column>
							<p:column headerText="Action Code">
								<p:outputLabel value="#{flowrto.action_cd}" />
							</p:column>
							<p:column headerText="Action Description">
								<p:outputLabel value="#{flowrto.action_descr}" />
							</p:column>
							<p:column headerText="Is Backward">
								<p:outputLabel value="#{flowrto.backward}" />
							</p:column>
							<p:column headerText="Conditon Formula Description">
								<p:outputLabel value="#{flowrto.condition_formula}" />
							</p:column>
							

               </p:dataTable>
               
               
          
               
               
		
               
			
	
		
		
</h:form>
</h:body>
</html>
